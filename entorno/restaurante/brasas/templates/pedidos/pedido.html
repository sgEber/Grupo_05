<!DOCTYPE html>
<html>
<head>
  <title>Carrito de Compras</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
</head>
<body>
  <div class="container mt-3">
    <h2>Carrito de Compras</h2>
    <table class="table">
      <thead>
        <tr>
          <th>Plato</th>
          <th>Cantidad</th>
          <th>Precio</th>
          <th>Total</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            <div id="carouselExample" class="carousel slide" data-bs-ride="carousel">
              <div class="carousel-inner">
                <div class="carousel-item active" data-price="21.00">
                  <img src="imagenes/lomo.jpg" class="d-block w-100 carousel-image" alt="Plato 1">
                  <div class="card-body">
                    <h5 class="card-title">Lomo Saltado</h5>
                    <p class="card-text">Sabroso lomo saltado con carne tierna, verduras frescas y aroma irresistible.</p>
                  </div>
                </div>
                <div class="carousel-item" data-price="19.00">
                  <img src="imagenes/chaufa.jpg" class="d-block w-100 carousel-image" alt="Plato 2">
                  <div class="card-body">
                    <h5 class="card-title">Chaufa de Pollo</h5>
                    <p class="card-text">Delicioso chaufa de pollo con arroz frito y vegetales frescos.</p>
                  </div>
                </div>
                <div class="carousel-item" data-price="22.00">
                  <img src="imagenes/arrozcpollo.jpg" class="d-block w-100 carousel-image" alt="Plato 3">
                  <div class="card-body">
                    <h5 class="card-title">Arroz con Pollo</h5>
                    <p class="card-text">Rico arroz con pollo, jugoso y lleno de sabor.</p>
                  </div>
                </div>
                <div class="carousel-item" data-price="25.00">
                  <img src="imagenes/ceviche.jpg" class="d-block w-100 carousel-image" alt="Plato 4">
                  <div class="card-body">
                    <h5 class="card-title">Ceviche</h5>
                    <p class="card-text">Delicioso ceviche peruano con pescado fresco, limón y ají.</p>
                  </div>
                </div>
                <div class="carousel-item" data-price="20.00">
                  <img src="imagenes/tverdes.jpg" class="d-block w-100 carousel-image " alt="Plato 5">
                  <div class="card-body">
                    <h5 class="card-title">Tallarines Verdes</h5>
                    <p class="card-text">Tallarines verdes con pesto de espinacas y un toque de queso.</p>
                  </div>
                </div>
                <div class="carousel-item" data-price="23.00">
                  <img src="imagenes/pollob.jpg" class="d-block w-100 carousel-image" alt="Plato 6">
                  <div class="card-body">
                    <h5 class="card-title">Pollo Broaster</h5>
                    <p class="card-text">Sabroso pollo a la brasa con papas crocantes y salsa especial.</p>
                  </div>
                </div>
              </div>
              <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Anterior</span>
              </button>
              <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Siguiente</span>
              </button>
            </div>
          </td>
          <td>
            <div class="input-group">
              <button class="btn btn-outline-primary" type="button" onclick="decrementCantidad()">-</button>
              <input type="text" class="form-control" value="1" id="cantidad">
              <button class="btn btn-outline-primary" type="button" onclick="incrementCantidad()">+</button>
            </div>
          </td>
          <td><span id="precio">S/ 21.00</span></td>
          <td><span id="total">S/ 21.00</span></td>
        </tr>
      </tbody>
    </table>
  
    <button class="btn btn-primary" onclick="realizarPedido()">Realizar Pedido</button>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    let cantidad = 1;
    let precio = 21.00;
    
    function decrementCantidad() {
      if (cantidad > 1) {
        cantidad--;
        updateTotal();
      }
    }
    
    function incrementCantidad() {
      cantidad++;
      updateTotal();
    }
    
    function updateTotal() {
      const total = cantidad * precio;
      document.getElementById('cantidad').value = cantidad;
      document.getElementById('total').innerText = `S/ ${total.toFixed(2)}`;
    }
    
    function actualizarPrecio() {
      const activeCarouselItem = document.querySelector('.carousel-item.active');
      const activePrice = parseFloat(activeCarouselItem.getAttribute('data-price'));
    
      precio = activePrice;
      document.getElementById('precio').innerText = `S/ ${precio.toFixed(2)}`;
    
      updateTotal();
    }
    
    document.addEventListener('DOMContentLoaded', function() {
      const carousel = new bootstrap.Carousel(document.getElementById('carouselExample'), {
        interval: false
      });
    
      carousel.on('slide.bs.carousel', function() {
        setTimeout(actualizarPrecio, 0);
      });
    
      actualizarPrecio();
    });
    
    function realizarPedido() {
      const total = cantidad * precio;
      alert(`Has realizado un pedido de ${cantidad} platos por un total de S/ ${total.toFixed(2)}`);
    }
    
  </script>
</body>
</html>
